create table users(
                      id int primary key generated by default as identity,
                      name varchar(50) not null,
                      surname varchar(60) not null,
                      username varchar(50),
                      email varchar unique,
                      phone_number varchar unique not null,
                      password varchar not null,
                      avatar varchar,
                      birth_date date,
                      location varchar,
                      job varchar,
                      school varchar,
                      university varchar,
                      status varchar,
                      role varchar(20)
);
create table message(
                        id int primary key generated by default as identity,
                        message varchar not null ,
                        created_at timestamp not null default current_timestamp,
                        sender int references users(id) on delete set null,
                        receiver int references users(id) on delete set null
);
create table friends(
                        id int primary key generated by default as identity ,
                        users int references users(id) on delete set null,
                        friend int references users(id) on delete set null
);
create table request_friendship(
                                   id int primary key generated by default as identity ,
                                   sender int references users(id) on delete set null,
                                   receiver int references users(id) on delete set null
);
create table subscriber(
                           id int primary key generated by default as identity ,
                           users int references users(id) on delete set null,
                           subscriber int references users(id) on delete set null
);

create table user_photo(
                           id int primary key generated by default as identity ,
                           created_at timestamp not null,
                           photo_path varchar not null ,
                           rating int,
                           users int references users(id) on delete set null
);
create table user_photo_comment(
                                   id int primary key generated by default as identity ,
                                   created_at timestamp not null,
                                   comment varchar not null ,
                                   user_photo int references user_photo(id) on delete set null,
                                   author int references users(id) on delete set null
);

create table post(
                     id int primary key generated by default as identity ,
                     created_at timestamp not null,
                     post varchar not null ,
                     rating int,
                     author int references users(id) on delete set null
);
create table post_comment(
                             id int primary key generated by default as identity ,
                             created_at timestamp not null,
                             comment varchar not null ,
                             post int references post(id) on delete set null,
                             author int references users(id) on delete set null
);
-- //// group
create table groups
(
    id int primary key generated by default as identity ,
    created_at timestamp not null,
    name varchar not null ,
    description varchar not null ,
    avatar varchar not null
);

create table group_contact(
                              id int primary key generated by default as identity ,
                              groups int references groups(id) on delete set null,
                              users int references users(id) on delete set null
);

create table subscription_group(
                                   id int primary key generated by default as identity ,
                                   groups int references groups(id) on delete set null,
                                   subscriber int references users(id) on delete set null
);

create table group_photo(
                            id int primary key generated by default as identity ,
                            created_at timestamp not null ,
                            photo_path varchar not null ,
                            rating int,
                            groups int references groups(id) on delete set null
);
create table group_photo_comment(
                                    id int primary key generated by default as identity ,
                                    created_at timestamp not null ,
                                    comment varchar not null ,
                                    group_photo int references group_photo(id) on delete set null,
                                    author int references users(id) on delete set null
);
create table group_post(
                           id int primary key generated by default as identity ,
                           post varchar not null ,
                           created_at timestamp not null ,
                           rating int,
                           groups int references groups(id) on delete set null
);
create table group_post_comment(
                                   id int primary key generated by default as identity ,
                                   comment varchar not null ,
                                   created_at timestamp not null ,
                                   group_post int references group_post(id) on delete set null,
                                   author int references users(id) on delete set null
);
